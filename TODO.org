* TODO

** TODO [#A] BUG :: uncaught regression when trying to scan a new contact

** [#A]

+ amethyst: `[//]: # (nip18)`
  + developer mode
    + message meta data
+ wrap profile messages in kind:4 messages
  + fan out to all contacts
+ fetch profile name and picture if available
  + if no profile is available, show alias together with abbreviated npub

** [#B]    

+ use a local nostr relay for testing to reduce load on servers
+ unhighlight unseen messages if a contact is active.

** [#C]

+ when navigating to about/relay/config/any menu item, deactivate contact. clicking on contact returns to chat
+ highlight/error log if messages are not kind 4
+ settings:
  + send with enter, line break with shift-enter
+ About
  + list available versions
  + release notes
+ forbid to add self as contact
+ add nostling icon
+ informative messages in footer should time out and disappear
  + consider swapping footer for info region that appears only on demand
  + consider a small, cute svg animation in footer (only an ostrich neck)
+ application icon
+ generate custom welcome messages in a given language (using llm?)
  + the savanna is ours to conquer
  + looking forward to
  + welcome to my flock
  + ...
+ sent images?

** TODO THEMES ::

** Features

+ hide/delete messages -> "x hidden messages" expand to modal
+ theme generators
  + background
  + avatar
  + banner
  + reuse color theme
+ keyboard navigation with arrows and TAB
+ mark new messages as they arrive in main panel (when first displayed, and in visible screen)
+ add bell icon or desktop feedback when messages arrive
+ allow removing identites
+ menu
  + identities ?
    + add/remove
  + contacts ?
    + add/remove/edit
  + about
    + doc
  + repo
    + version
    + status
  + themes
    + each color theme should provide dark and light variant
  + preview in main panel
    + cancel/save
    + fonts
      + heading?
      + footer/info
      + contact/identities (headers)
      + messages self/other
      + 
    + fade in and out when switching themes
    + background colors: 7
      + main panel
      + message cards (2)
      + side bar
      + footer
      + header
      + chat window
    + light gradient
    + matching text colors
    + matching label colors
  + relays
+ avatars (generated by llm) train/distill?
+ group chat
  + fake groups with custom message
  + add member (adding a member creates new id (deterministically?), and starts new chat)
+ contact online status?
  + only practical if listening to all messages sent by a contact. (last seen ... ago)
+ languages (dynamic or pre-generated?)
+ send on enter/shift enter

*** Build

+ disallow pushing tags on branches other than master
+ add config dir command line param

*** Styling

+ themes
  + one dark one light each
  + banner image
  + fonts
+ larger initial screen size.
+ save screen size in config
+ keep chat window fixed
+ vertically shrink footer
+ add splash screen with nostling
+ create 

*** Release

+ do NOT allow release if tests fail!!
+ compress git history
+ compress migrations into one initial migration
+ remove old versions
+ tidy up repo
+ tidy up ~/Library/Application Support/nostling/
